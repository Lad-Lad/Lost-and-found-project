<!doctype html>
<html>
    <head>
        {% if title %}
        <title>{{ title }} - Campus Lost & Found</title>
        {% else %}
        <title>Welcome to Campus Lost & Found</title>
        {% endif %}
        <style>
            /* Basic styles for flash messages - you can expand on this */
            .flash {
                padding: 10px;
                margin-bottom: 10px;
                border: 1px solid;
                border-radius: 4px;
            }
            .flash.success {
                background-color: #d4edda;
                border-color: #c3e6cb;
                color: #155724;
            }
            .flash.info {
                background-color: #d1ecf1;
                border-color: #bee5eb;
                color: #0c5460;
            }
            .flash.warning {
                background-color: #fff3cd;
                border-color: #ffeeba;
                color: #856404;
            }
            .flash.danger {
                background-color: #f8d7da;
                border-color: #f5c6cb;
                color: #721c24;
            }
            .item-card {
                border: 1px solid #ddd;
                padding: 15px;
                margin-bottom: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .item-card h3 {
                margin-top: 0;
                color: #333;
            }
            .item-card p {
                margin-bottom: 5px;
            }
            .item-card img {
                max-width: 100%;
                height: auto;
                display: block;
                margin-top: 10px;
                border-radius: 4px;
            }
            .item-card .meta {
                font-size: 0.85em;
                color: #666;
            }
            .item-card .type-lost {
                color: red;
                font-weight: bold;
            }
            .item-card .type-found {
                color: green;
                font-weight: bold;
            }
            nav a {
                margin-right: 15px;
                text-decoration: none;
                color: #007bff;
            }
            nav a:hover {
                text-decoration: underline;
            }
        </style>
    </head>
    <body>
        <nav>
            <h1>Campus Lost & Found Portal</h1>
            <a href="{{ url_for('index') }}">Submit Item</a>
            <a href="{{ url_for('browse') }}">Browse Items</a>
            {% if current_user.is_anonymous %}
            <a href="{{ url_for('login') }}">Login</a>
            {% else %}
            <a href="{{ url_for('user', username=current_user.username) }}">My Items</a>
            <a href="{{ url_for('logout') }}">Logout</a>
            {% endif %}
        </nav>
        <hr>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <ul>
            {% for category, message in messages %}
            <li class="flash {{ category }}">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}
        {% block content %}{% endblock %}
    </body>
</html>